<!--Copyright (C) 2016 R&D Solutions Ltd.-->

<!--Licensed under the Apache License, Version 2.0 (the "License");-->
<!--you may not use this file except in compliance with the License.-->
<!--You may obtain a copy of the License at-->

<!--http://www.apache.org/licenses/LICENSE-2.0-->

<!--Unless required by applicable law or agreed to in writing, software-->
<!--distributed under the License is distributed on an "AS IS" BASIS,-->
<!--WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.-->
<!--See the License for the specific language governing permissions and-->
<!--limitations under the License.-->

<div class="portlet light custom-portlet">
    <div class="portlet-title">
        <div class="caption">
            <i class="fa fa-cogs"></i>Stages
            <select style="display: inline-block; width: auto; padding: 0 5px; height: auto;" class="form-control" name="stageRunSelect" id="stageRunSelect" ng-model="pipesRunManagement.selectedStageRunExecutionId">
                <option ng-repeat="stageRun in pipesRunManagement.currentPipelineRun.stageRuns" value="{{stageRun.executionId}}"
                        ng-selected="pipesRunManagement.currentPipelineRun.stageRuns[0].executionId">
                    {{stageRun.executionId}}
                </option>
            </select>

            <!--<select style="display: inline-block; width: auto; padding: 0 5px; height: auto;" class="form-control" name="stageRunSelect" id="stageRunSelect"-->
                    <!--ng-model="pipesRunManagement.selectedStageRun.executionId"-->
                    <!--ng-repeat="executionId in pipesRunManagement.currentPipelineRun.stageRuns.executionId"-->
                    <!--value="{{executionId}}">{{executionId}}>-->
                    <!--ng-options="stageRun.executionId as stageRun.executionId for stageRun in pipesRunManagement.currentPipelineRun.stageRuns">-->
            <!--</select>-->
        </div>
        <div class="tools right">
            <a href="javascript:;" class="collapse"> </a>
        </div>
    </div>
    <div class="portlet-body custom-body">
        <div class="s-box" ng-repeat="stage in pipesRunManagement.currentPipelineRun.stageRuns[pipesRunManagement.selectedStageRunExecutionId - 1].stages">
            <div class="display-inline-block" ng-include src="'app/pipelines/views/partials/run-management/_stage.html'"></div>
            <div class="height-100px display-inline-block">
                <img class="image-vertical-center arrow-right"
                     ng-if="$index != pipesRunManagement.currentPipelineRun.stageRuns[pipesRunManagement.selectedStageRunExecutionId - 1].stages.length - 1"
                     src="../../../../../assets/images/right-arrow.png">
            </div>
        </div>
    </div>
</div>
